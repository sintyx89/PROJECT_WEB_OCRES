{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sinty\\\\OneDrive\\\\Documents\\\\ECE\\\\cours_ing4\\\\Git-OCRES\\\\PROJECT_WEB_OCRES\\\\frontend\\\\src\\\\containers\\\\nav.js\";\nimport React from 'react';\nimport axios from \"axios\";\nimport Button from '../components/button';\nimport \"../App.css\";\nimport '../index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nconst API_URL = \"http://localhost:2000/api/dresseur\";\nexport default class Nav extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.callAPI = () => {\n      // Call API\n      axios.get(\"\".concat(API_URL, \"/\")).then(({\n        data\n      }) => {\n        console.log(data); // Recupere uniquement la propriété data\n\n        const list = {\n          data\n        }; // on recuper la liste\n\n        const dataPoke = list.map();\n        this.setState({\n          dataPoke\n        });\n      }).catch(console.error);\n    };\n\n    this.componentDidMount = () => {\n      this.callAPI();\n    };\n\n    this.state = {\n      dataPoke: null\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          users = _this$props.users,\n          changeUser = _this$props.changeUser; // on recuper la liste des dresseurs\n\n    const list = this.state.dataPoke; //test sur list \n\n    if (!list) return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Loading...\");\n    return React.createElement(\"div\", {\n      class: \"container\",\n      id: \"listedresseur\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, list.map(user => React.createElement(Button, {\n      text: user.name,\n      onClick: () => changeUser(user.name),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }))\n    /*\r\n    (users.map((user) => <Button text={user.name} onClick={() => changeUser(user.name)} />))\r\n    */\n    ));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/sinty/OneDrive/Documents/ECE/cours_ing4/Git-OCRES/PROJECT_WEB_OCRES/frontend/src/containers/nav.js"],"names":["React","axios","Button","API_URL","Nav","Component","constructor","props","callAPI","get","then","data","console","log","list","dataPoke","map","setState","catch","error","componentDidMount","state","render","users","changeUser","user","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAO,YAAP;AACA,OAAO,cAAP;AAEA,OAAO,sCAAP;AAEA,MAAMC,OAAO,GAAG,oCAAhB;AAEA,eAAe,MAAMC,GAAN,SAAkBJ,KAAK,CAACK,SAAxB,CAAkC;AAC7CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAMnBC,OANmB,GAMT,MAAM;AACZ;AACAP,MAAAA,KAAK,CACFQ,GADH,WACUN,OADV,QAEGO,IAFH,CAEQ,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAc;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EADkB,CAElB;;AACA,cAAMG,IAAI,GAAG;AAAEH,UAAAA;AAAF,SAAb,CAHkB,CAIlB;;AACA,cAAMI,QAAQ,GAAGD,IAAI,CAACE,GAAL,EAAjB;AAEA,aAAKC,QAAL,CAAc;AAAEF,UAAAA;AAAF,SAAd;AACD,OAVH,EAWGG,KAXH,CAWSN,OAAO,CAACO,KAXjB;AAYD,KApBgB;;AAAA,SAuBnBC,iBAvBmB,GAuBC,MAAM;AACtB,WAAKZ,OAAL;AACH,KAzBkB;;AAEf,SAAKa,KAAL,GAAa;AACXN,MAAAA,QAAQ,EAAE;AADC,KAAb;AAGH;;AAsBDO,EAAAA,MAAM,GAAG;AAAA,wBACyB,KAAKf,KAD9B;AAAA,UACGgB,KADH,eACGA,KADH;AAAA,UACUC,UADV,eACUA,UADV,EAEL;;AACA,UAAMV,IAAI,GAAG,KAAKO,KAAL,CAAWN,QAAxB,CAHK,CAIL;;AACA,QAAI,CAACD,IAAL,EAAW,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AAEX,WACI;AAAK,MAAA,KAAK,EAAC,WAAX;AAAuB,MAAA,EAAE,EAAC,eAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAESA,IAAI,CAACE,GAAL,CAAUS,IAAD,IAAU,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAEA,IAAI,CAACC,IAAnB;AAAyB,MAAA,OAAO,EAAE,MAAMF,UAAU,CAACC,IAAI,CAACC,IAAN,CAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnB;AACA;AACzB;AACA;AALgB,KADJ,CADJ;AAWH;;AA9C4C","sourcesContent":["import React from 'react';\r\nimport axios from \"axios\";\r\nimport Button from '../components/button';\r\nimport \"../App.css\";\r\nimport '../index.css';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nconst API_URL = \"http://localhost:2000/api/dresseur\";\r\n\r\nexport default class Nav extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          dataPoke: null\r\n        };\r\n    }\r\n    callAPI = () => {\r\n        // Call API\r\n        axios\r\n          .get(`${API_URL}/`)\r\n          .then(({ data }) => {\r\n            console.log(data);\r\n            // Recupere uniquement la propriété data\r\n            const list = { data };\r\n            // on recuper la liste\r\n            const dataPoke = list.map();\r\n            \r\n            this.setState({ dataPoke });\r\n          })\r\n          .catch(console.error);\r\n      };\r\n\r\n    // Lance un appel au lancement du component\r\n    componentDidMount = ()=>  {\r\n        this.callAPI();\r\n    };\r\n\r\n    render() {\r\n        const { users, changeUser } = this.props;\r\n        // on recuper la liste des dresseurs\r\n        const list = this.state.dataPoke;\r\n        //test sur list \r\n        if (!list) return <p>Loading...</p>;\r\n\r\n        return (\r\n            <div class=\"container\" id=\"listedresseur\">\r\n                <div class=\"row\">\r\n                    {   \r\n                        (list.map((user) => <Button text={user.name} onClick={() => changeUser(user.name)} />))\r\n                         /*\r\n                        (users.map((user) => <Button text={user.name} onClick={() => changeUser(user.name)} />))\r\n                        */\r\n                    }\r\n                </div>\r\n            </div>)\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}